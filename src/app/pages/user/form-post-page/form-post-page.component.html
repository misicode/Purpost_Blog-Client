<div class="bg-indigo-700 px-16 py-4 text-sms text-white">
  <h2>Crear Publicación</h2>
</div>
<div class="bg-white border-b-2 border-indigo-100 border-solid font-medium px-16 py-3 text-slate-700 text-xss">
  Inicio / <a routerLink="/user/post">Publicaciones</a> / <a routerLink="/user/post/create">Nuevo</a>
</div>
<section>
  <form
    (ngSubmit)="runPostForm()"
    [formGroup]="postForm"
    enctype="multipart/form-data"
  >
    <div class="card gap-x-8 grid grid-cols-[2fr,_1fr]">
      <div class="gap-y-8 grid">
        <div>
          <label for="title">
            Título
          </label>
          <div class="input-item-box">
            <input
              class="input-item"
              formControlName="title"
              id="title"
              name="title"
              type="text"
            />
          </div>
        </div>
        <div>
          <label for="content">
            Contenido
          </label>
          <div class="input-item-box">
            <textarea 
              class="input-item resize-none"
              formControlName="body"
              id="content"
              name="content"
              rows="10"
            ></textarea>
          </div>
          <p class="mt-1.5 text-right text-xsvs">
            Ingrese como máximo 2500 caracteres
          </p>
        </div>
      </div>
      <div class="grid grid-rows-[auto,_1fr]">
        <label for="file-upload">
          Imagen
        </label>
        <label class="!border-dashed !border-slate-200 cursor-pointer flex flex-col hover:!border-indigo-700 input-item-box items-center justify-center relative text-smvs" for="file-upload">
          <input
            (change)="onImageChange($event)"
            accept="image/jpeg, image/png"
            class="sr-only"
            id="file-upload"
            
            name="file-upload"
            type="file"
          />
          <img
            [src]="imageUrl"
            alt=""
            class="absolute block max-h-[90%] max-w-[90%]"
          />
          <svg class="h-12 mb-2 text-slate-300 w-12" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z" clip-rule="evenodd" />
          </svg>
          <span>Sube una imagen o suéltala aquí</span>
          <span class="mt-1 text-xss">JPG o PNG hasta 5MB</span>
        </label>
      </div>
    </div>
    <div class="mt-6 text-right">
      <a routerLink="/user/post">
        <button type="button" class="btn-cancel">
          Cancelar
        </button>
      </a>
      <button [disabled]="postForm.invalid" type="submit" class="btn-success disabled:bg-indigo-500">
        Guardar
      </button>
    </div>
  </form>
</section>
<app-loader [show]="loading"></app-loader>